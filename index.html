<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Work From Anywhere</title><style>:root{--bg:#f7f8fb;--card:#fff;--muted:#6b7280;--accent:#0b63b8;--mono:"SFMono-Regular",Menlo,Monaco,"Roboto Mono","Courier New",monospace}html,body{height:100%;margin:0;background:var(--bg);font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}.wrap{max-width:1100px;margin:36px auto;padding:20px}.grid{display:grid;grid-template-columns:1fr 420px;gap:18px;margin-top:18px}.card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 6px 18px rgba(11,63,120,0.06);overflow:hidden}.posts-list .post{border-radius:10px;padding:12px;border:1px solid #eef3fb;margin-bottom:12px}.post h3{margin:0 0 6px;font-size:15px}.post p{margin:0;color:var(--muted);font-size:13px}.date{font-size:12px;color:#9aa3b2;margin-top:8px}.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:8px}.gallery img{width:100%;height:100px;object-fit:cover;border-radius:8px;display:block}.gallery a{display:block;cursor:pointer;text-decoration:none}.meta{font-size:12px;color:var(--muted);margin-top:10px}.search{width:100%;padding:8px;border-radius:8px;border:1px solid #e6eefb}.section-title{font-size:18px;font-weight:600;margin-bottom:12px;color:var(--accent)}@media (max-width:980px){.grid{grid-template-columns:1fr}}</style></head><body><div class="wrap"><h1 style="text-align:center;margin-bottom:24px;color:var(--accent);">Work From Anywhere</h1><div class="grid"><div><div class="card"><div class="meta"><input id="jsonFilter" class="search" placeholder="Filter posts..."/></div></div><div class="card" style="margin-top:14px"><div id="posts" class="posts-list" style="margin-top:12px">Loading posts...</div></div></div><div><div class="card"><div class="section-title">Image Gallery</div><div id="gallery" class="gallery" style="margin-top:12px">Loading images...</div></div></div></div></div><script>function fixPath(p,t='image'){if(!p)return'';p=p.trim();if(p.startsWith('http')||p.startsWith('/'))return p;return t==='image'?'Images/'+p:'Posts/'+p}function timeAgo(d){const e=new Date(d),n=new Date(),i=Math.floor((n-e)/1e3);if(i<60)return`${i} second${i!==1?'s':''} ago`;if(i<3600){const t=Math.floor(i/60);return`${t} minute${t!==1?'s':''} ago`}if(i<86400){const t=Math.floor(i/3600);return`${t} hour${t!==1?'s':''} ago`}const t=Math.floor(i/86400);return`${t} day${t!==1?'s':''} ago`}function renderPosts(p){const c=document.getElementById('posts');c.innerHTML=p.length?'':'No posts yet.';p.forEach(e=>{if(!e.date){const t=new Date,n=Math.floor(Math.random()*12),i=Math.floor(Math.random()*30),s=Math.floor(Math.random()*24),r=Math.floor(Math.random()*60),d=new Date(t);d.setMonth(d.getMonth()-n),d.setDate(d.getDate()-i),d.setHours(d.getHours()-s),d.setMinutes(d.getMinutes()-r),e.date=d.toISOString()}const t=document.createElement('div');t.className='post';const i=document.createElement('h3'),s=document.createElement('a');if(e.path)s.href=fixPath(e.path,'post'),s.target='_blank',s.rel='noopener noreferrer';else s.style.cursor='default',s.style.color='var(--muted)';s.textContent=e.title||'Untitled',i.appendChild(s),t.appendChild(i),e.image&&(d=document.createElement('img'),d.src=fixPath(e.image,'image'),d.style.width='100%',d.style.borderRadius='8px',d.style.marginBottom='8px',d.onerror=function(){this.onerror=null,this.src='data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="200" height="120"><rect width="100%" height="100%" fill="#eceff6"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#9aa3b2" font-size="14">no image</text></svg>')}),t.insertBefore(d,i.nextSibling),e.excerpt){const a=document.createElement('p');a.innerHTML=e.excerpt.length>200?e.excerpt.slice(0,200)+'â€¦':e.excerpt,t.appendChild(a)}const n=document.createElement('div');n.className='date',n.setAttribute('data-date',e.date),n.textContent=timeAgo(e.date),t.appendChild(n),c.appendChild(t)}),Array.from(c.children).sort((e,t)=>new Date(t.querySelector('.date').dataset.date)-new Date(e.querySelector('.date').dataset.date)).forEach(e=>c.appendChild(e))}function updateTimeAgoLabels(){document.querySelectorAll('.posts-list .post .date').forEach(e=>{const t=e.getAttribute('data-date');if(!t)return;const n=timeAgo(t);e.textContent!==n&&(e.textContent=n)})}function renderGallery(p){const c=document.getElementById('gallery');c.innerHTML=p.length?'':'No images yet.',p.forEach(e=>{const t=typeof e==='string'?fixPath(e,'image'):fixPath(e.src,'image');if(!t)return;const n=document.createElement('a');n.href=t,n.target='_blank',n.rel='noopener noreferrer';const i=document.createElement('img');i.alt='',i.loading='lazy',i.src=t,i.onerror=function(){this.onerror=null,this.src='data:image/svg+xml;utf8,'+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="200" height="120"><rect width="100%" height="100%" fill="#eceff6"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#9aa3b2" font-size="14">no image</text></svg>')},n.appendChild(i),c.appendChild(n)})}async function loadJSON(p=[]){for(const e of p)try{const t=await fetch(e,{cache:'no-cache'});if(!t.ok)continue;const n=await t.json();if(Array.isArray(n))return n}catch(e){console.warn('Fetch error',e)}return[]}async function updateContent(){const p=location.pathname.replace(/\/[^\/]*$/,'/'),e=await loadJSON([p+'index.json','./index.json','index.json']);renderPosts(e),updateTimeAgoLabels();const t=await loadJSON([p+'images.json','./images.json','images.json']);renderGallery(t)}document.getElementById('jsonFilter').addEventListener('input',e=>{const t=e.target.value.toLowerCase().trim();Array.from(document.querySelectorAll('.posts-list .post')).forEach(e=>{const n=e.querySelector('h3')?.innerText.toLowerCase()||'',i=e.querySelector('p')?.innerText.toLowerCase()||'',s=e.querySelector('h3 a')?.getAttribute('href')?.toLowerCase()||'';e.style.display=!t||n.includes(t)||i.includes(t)||s.includes(t)?'none':''})}),updateContent(),setInterval(updateContent,3e4),setInterval(updateTimeAgoLabels,6e4);</script></body></html>
